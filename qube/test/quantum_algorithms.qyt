// quantum_algorithms.qyt
// QyTumìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ìœ ëª…í•œ ì–‘ì ì•Œê³ ë¦¬ì¦˜ë“¤

// ë„ì´ì¹˜ ì•Œê³ ë¦¬ì¦˜ - í•¨ìˆ˜ì˜ ì„±ì§ˆì„ 1ë²ˆ í˜¸ì¶œë¡œ íŒë‹¨
circuit Deutsch(2) {
    // ì´ˆê¸°í™”: |0âŸ©|1âŸ© â†’ |+âŸ©|-âŸ©
    apply X to q1;
    apply H to q0;
    apply H to q1;
    
    // ì˜¤ë¼í´ (ì—¬ê¸°ì„œëŠ” ìƒìˆ˜ í•¨ìˆ˜ f(x)=0)
    // ìƒìˆ˜ í•¨ìˆ˜: ì•„ë¬´ê²ƒë„ ì•ˆí•¨
    // ê· í˜• í•¨ìˆ˜: apply CNOT to (q0, q1);
    
    // ìµœì¢… í•˜ë‹¤ë§ˆë“œ
    apply H to q0;
}

// ê·¸ë¡œë²„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ (2íë¹— ë²„ì „)
circuit Grover(2) {
    // 1ë‹¨ê³„: ê· ë“± ì¤‘ì²© ì´ˆê¸°í™”
    apply H to q0;
    apply H to q1;
    
    // 2ë‹¨ê³„: ì˜¤ë¼í´ - |11âŸ© ìƒíƒœë¥¼ í‘œì‹œ
    apply CZ to (q0, q1);
    
    // 3ë‹¨ê³„: í™•ì‚° ì—°ì‚°ì (Diffusion operator)
    apply H to q0;
    apply H to q1;
    apply X to q0;
    apply X to q1;
    apply CZ to (q0, q1);
    apply X to q0;
    apply X to q1;
    apply H to q0;
    apply H to q1;
}

// ì–‘ì í…”ë ˆí¬í…Œì´ì…˜
circuit Teleportation(3) {
    // ì•¨ë¦¬ìŠ¤ì˜ íë¹— q0ì— ì „ì†¡í•  ìƒíƒœ ì¤€ë¹„
    apply RX(1.047) to q0;  // 60ë„ íšŒì „
    
    // ë²¨ ìŒ ìƒì„± (q1, q2)
    apply H to q1;
    apply CNOT to (q1, q2);
    
    // ì•¨ë¦¬ìŠ¤ì˜ ì¸¡ì •
    apply CNOT to (q0, q1);
    apply H to q0;
    
    // ì¸¡ì • ê²°ê³¼ì— ë”°ë¥¸ ë°¥ì˜ ë³´ì •ì€ ì¸¡ì • í›„ ìˆ˜í–‰
}

fn test_deutsch_algorithm() {
    println("=== ë„ì´ì¹˜ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ ===");
    
    scalar circuit = Deutsch(2);
    println("ë„ì´ì¹˜ íšŒë¡œ ìƒì„± ì™„ë£Œ");
    
    // ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ ì„¤ëª…
    println("ì•Œê³ ë¦¬ì¦˜ ë™ì‘:");
    println("1. ì´ˆê¸°í™”: |+âŸ©|-âŸ© ìƒíƒœ ì¤€ë¹„");
    println("2. ì˜¤ë¼í´: í•¨ìˆ˜ f(x) ì ìš©");
    println("3. ì¸¡ì •: q0ì´ 0ì´ë©´ ìƒìˆ˜, 1ì´ë©´ ê· í˜•");
    
    println("ì˜ˆìƒ ê²°ê³¼:");
    println("- ìƒìˆ˜ í•¨ìˆ˜ f(x)=0: q0 ì¸¡ì • â†’ 0");
    println("- ìƒìˆ˜ í•¨ìˆ˜ f(x)=1: q0 ì¸¡ì • â†’ 0");
    println("- ê· í˜• í•¨ìˆ˜: q0 ì¸¡ì • â†’ 1");
    
    println("ë„ì´ì¹˜ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn test_grover_search() {
    println("=== ê·¸ë¡œë²„ íƒìƒ‰ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ ===");
    
    scalar circuit = Grover(2);
    println("ê·¸ë¡œë²„ íšŒë¡œ ìƒì„± ì™„ë£Œ");
    
    println("ì•Œê³ ë¦¬ì¦˜ ë™ì‘:");
    println("1. ì´ˆê¸°í™”: ëª¨ë“  ìƒíƒœë¥¼ ê· ë“± ì¤‘ì²©ìœ¼ë¡œ");
    println("2. ì˜¤ë¼í´: íƒ€ê²Ÿ |11âŸ© ìƒíƒœì— ìœ„ìƒ -1 ì ìš©");
    println("3. í™•ì‚°: í‰ê· ì„ ì¤‘ì‹¬ìœ¼ë¡œ ë°˜ì‚¬");
    println("4. ê²°ê³¼: íƒ€ê²Ÿ ìƒíƒœì˜ í™•ë¥  ì¦í­");
    
    println("ê²€ìƒ‰ ê³µê°„: |00âŸ©, |01âŸ©, |10âŸ©, |11âŸ©");
    println("íƒ€ê²Ÿ: |11âŸ©");
    println("ì˜ˆìƒ ì„±ê³µë¥ : ~90%");
    
    println("ê·¸ë¡œë²„ íƒìƒ‰ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn test_teleportation() {
    println("=== ì–‘ì í…”ë ˆí¬í…Œì´ì…˜ í…ŒìŠ¤íŠ¸ ===");
    
    scalar circuit = Teleportation(3);
    println("í…”ë ˆí¬í…Œì´ì…˜ íšŒë¡œ ìƒì„± ì™„ë£Œ");
    
    println("ì•Œê³ ë¦¬ì¦˜ ë™ì‘:");
    println("1. ì•¨ë¦¬ìŠ¤ê°€ ì „ì†¡í•  ìƒíƒœ |ÏˆâŸ© ì¤€ë¹„");
    println("2. ë²¨ ìŒ |Î¦+âŸ© ìƒì„± ë° ë¶„ë°°");
    println("3. ì•¨ë¦¬ìŠ¤ê°€ ë²¨ ì¸¡ì • ìˆ˜í–‰");
    println("4. ë°¥ì´ ì¸¡ì • ê²°ê³¼ì— ë”°ë¼ ë³´ì •");
    
    println("ì „ì†¡í•  ìƒíƒœ: RX(60Â°)|0âŸ©");
    println("ì˜ˆìƒ ê²°ê³¼: ë°¥ì˜ íë¹—ì´ ë™ì¼í•œ ìƒíƒœê°€ ë¨");
    println("í”¼ë¸ë¦¬í‹°: 100% (ì´ë¡ ì )");
    
    println("ì–‘ì í…”ë ˆí¬í…Œì´ì…˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn test_bell_measurement() {
    println("=== ë²¨ ìƒíƒœ ì¸¡ì • í…ŒìŠ¤íŠ¸ ===");
    
    // ë²¨ ìƒíƒœë“¤ ìƒì„±
    println("4ê°€ì§€ ë²¨ ìƒíƒœ ìƒì„±:");
    
    // |Î¦+âŸ© = (|00âŸ© + |11âŸ©)/âˆš2
    println("1. |Î¦+âŸ© ìƒíƒœ:");
    scalar phi_plus = |00âŸ© + |11âŸ©;  // ë‹¨ìˆœí™”ëœ í‘œí˜„
    println("   ë²¡í„°: (|00âŸ© + |11âŸ©)/âˆš2");
    
    // |Î¦-âŸ© = (|00âŸ© - |11âŸ©)/âˆš2  
    println("2. |Î¦-âŸ© ìƒíƒœ:");
    println("   ë²¡í„°: (|00âŸ© - |11âŸ©)/âˆš2");
    
    // |Î¨+âŸ© = (|01âŸ© + |10âŸ©)/âˆš2
    println("3. |Î¨+âŸ© ìƒíƒœ:");
    println("   ë²¡í„°: (|01âŸ© + |10âŸ©)/âˆš2");
    
    // |Î¨-âŸ© = (|01âŸ© - |10âŸ©)/âˆš2
    println("4. |Î¨-âŸ© ìƒíƒœ:");
    println("   ë²¡í„°: (|01âŸ© - |10âŸ©)/âˆš2");
    
    println("ì¸¡ì • íŠ¹ì„±:");
    println("- ì™„ì „íˆ ì–½íŒ ìƒíƒœ");
    println("- ì¸¡ì • ê²°ê³¼ëŠ” í•­ìƒ ìƒê´€ê´€ê³„ ìˆìŒ");
    println("- |Î¦Â±âŸ©: 00 ë˜ëŠ” 11 (50% í™•ë¥ )");
    println("- |Î¨Â±âŸ©: 01 ë˜ëŠ” 10 (50% í™•ë¥ )");
    
    println("ë²¨ ìƒíƒœ ì¸¡ì • í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn test_quantum_interference() {
    println("=== ì–‘ì ê°„ì„­ í…ŒìŠ¤íŠ¸ ===");
    
    println("ê°„ì„­ íŒ¨í„´ ì‹¤í—˜:");
    
    // ë§ˆí•˜-ì  ë” ê°„ì„­ê³„ ì‹œë®¬ë ˆì´ì…˜
    scalar q = |0âŸ©;
    println("ì´ˆê¸° ìƒíƒœ: |0âŸ©");
    
    // ì²« ë²ˆì§¸ ë¹” ìŠ¤í”Œë¦¬í„° (í•˜ë‹¤ë§ˆë“œ)
    scalar superpos = H(q);
    println("ì²« ë²ˆì§¸ ë¶„í•  í›„: |+âŸ© = (|0âŸ© + |1âŸ©)/âˆš2");
    
    // ìœ„ìƒ ì‹œí”„íŠ¸ (RZ ê²Œì´íŠ¸)
    println("ìœ„ìƒ ì‹œí”„íŠ¸ ì ìš©...");
    scalar PI = 3.14159;
    scalar phase_shifted = RZ(PI/2, superpos);
    println("ìœ„ìƒ ì ìš© í›„: (|0âŸ© + i|1âŸ©)/âˆš2");
    
    // ë‘ ë²ˆì§¸ ë¹” ìŠ¤í”Œë¦¬í„°
    println("ë‘ ë²ˆì§¸ ë¶„í• ...");
    scalar final_state = H(phase_shifted);
    println("ìµœì¢… ìƒíƒœ: ìœ„ìƒì°¨ì— ë”°ë¥¸ ê°„ì„­");
    
    println("ê°„ì„­ ê²°ê³¼:");
    println("- êµ¬ì„±ì  ê°„ì„­: í™•ë¥  ì¦ê°€");
    println("- íŒŒê´´ì  ê°„ì„­: í™•ë¥  ê°ì†Œ");
    println("- ìœ„ìƒì°¨ Ï€/2: ë³µì†Œ ì§„í­");
    
    println("ì–‘ì ê°„ì„­ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn test_entanglement_measures() {
    println("=== ì–½í˜ ì¸¡ì • í…ŒìŠ¤íŠ¸ ===");
    
    println("ë‹¤ì–‘í•œ ìƒíƒœì˜ ì–½í˜ë„:");
    
    // ë¶„ë¦¬ ê°€ëŠ¥í•œ ìƒíƒœ
    println("1. ë¶„ë¦¬ ê°€ëŠ¥í•œ ìƒíƒœ |00âŸ©:");
    scalar separable = |00âŸ©;
    println("   ì–½í˜ë„: 0 (ì™„ì „ ë¶„ë¦¬)");
    
    // ë¶€ë¶„ ì–½í˜ ìƒíƒœ  
    println("2. ë¶€ë¶„ ì–½í˜ ìƒíƒœ:");
    println("   (âˆš3|00âŸ© + |11âŸ©)/2");
    println("   ì–½í˜ë„: 0.5 (ë¶€ë¶„ ì–½í˜)");
    
    // ìµœëŒ€ ì–½í˜ ìƒíƒœ
    println("3. ìµœëŒ€ ì–½í˜ ìƒíƒœ |Î¦+âŸ©:");
    println("   (|00âŸ© + |11âŸ©)/âˆš2");
    println("   ì–½í˜ë„: 1.0 (ì™„ì „ ì–½í˜)");
    
    // 3íë¹— GHZ ìƒíƒœ
    println("4. GHZ ìƒíƒœ (3íë¹—):");
    println("   (|000âŸ© + |111âŸ©)/âˆš2");
    println("   ì–½í˜ë„: ìµœëŒ€ ë‹¤ì²´ ì–½í˜");
    
    println("ì–½í˜ ì¸¡ì • ë°©ë²•:");
    println("- í° ë…¸ì´ë§Œ ì—”íŠ¸ë¡œí”¼");
    println("- ì»¨ì»¤ëŸ°ìŠ¤ (Concurrence)");
    println("- ë„¤ê±°í‹°ë¹„í‹° (Negativity)");
    
    println("ì–½í˜ ì¸¡ì • í…ŒìŠ¤íŠ¸ ì™„ë£Œ!\n");
}

fn main() {
    println("ğŸ§  QyTum ì–‘ì ì•Œê³ ë¦¬ì¦˜ ì¢…í•© í…ŒìŠ¤íŠ¸");
    println("===================================\n");
    
    test_deutsch_algorithm();
    test_grover_search();
    test_teleportation();
    test_bell_measurement();
    test_quantum_interference();
    test_entanglement_measures();
    
    println("ğŸ† ëª¨ë“  ì–‘ì ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ ì™„ë£Œ!");
    println("QyTumìœ¼ë¡œ ë‹¤ì–‘í•œ ì–‘ì ì•Œê³ ë¦¬ì¦˜ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
}