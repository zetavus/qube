// algorithms/test/debug_range_step3.qb
// apply ë¬¸ì—ì„œ ~ í† í° ì§ì ‘ í…ŒìŠ¤íŠ¸

fn test_apply_tilde() {
    println("ğŸ”§ apply ë¬¸ì—ì„œ ~ í† í° í…ŒìŠ¤íŠ¸");
    println("============================");
    
    circuit ApplyTilde(3) {
        println("1ï¸âƒ£ ê¸°ë³¸ apply:");
        apply H to q0;
        
        println("2ï¸âƒ£ ~ í† í° apply ì‹œë„:");
        // ì´ ë¶€ë¶„ì—ì„œ íŒŒì‹± ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì„
        apply H to ~;
    }
    return ApplyTilde(3);
}

fn main() {
    println("ğŸ¯ apply ~ íŒŒì‹± í…ŒìŠ¤íŠ¸");
    println("======================");
    
    test_circuit = test_apply_tilde();
    result = measure(test_circuit, [0, 1, 2]);
    
    println("âœ… apply ~ í…ŒìŠ¤íŠ¸ ì™„ë£Œ: {}", result);
}