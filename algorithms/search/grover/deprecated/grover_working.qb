// ì•ˆì „í•œ ì™„ì „ Grover ì•Œê³ ë¦¬ì¦˜ - íŒŒì‹± ë¬¸ì œ í•´ê²° ë²„ì „
fn main() {
    println("ğŸ” ì™„ì„±ëœ Grover ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜");
    println("==============================");
    println("ëª©í‘œ: |11âŸ© ìƒíƒœ ì°¾ê¸° (4ê°œ ì¤‘ 1ê°œ)");
    println("");
    
    single_run();
    performance_test();
    algorithm_explanation();
}

fn single_run() {
    println("ğŸ¯ ë‹¨ì¼ Grover ì‹¤í–‰:");
    
    circuit GroverSearch(2) {
        // ì´ˆê¸°í™”: ê· ë“± ì¤‘ì²©
        apply H to q0;
        apply H to q1;
        
        // Oracle: |11âŸ© í‘œì‹œ
        apply CNOT to (q0, q1);
        apply Z to q1;
        apply CNOT to (q0, q1);
        
        // Diffusion: ì§„í­ ì¦í­  
        apply H to q0;
        apply H to q1;
        apply X to q0;
        apply X to q1;
        apply CNOT to (q0, q1);
        apply Z to q1;
        apply CNOT to (q0, q1);
        apply X to q0;
        apply X to q1;
        apply H to q0;
        apply H to q1;
    }
    
    // ì‹œë®¬ë ˆì´ì…˜
    qubit sim_q0 = H(|0âŸ©);
    qubit sim_q1 = H(|0âŸ©);
    
    scalar r0 = measure(sim_q0);
    scalar r1 = measure(sim_q1);
    
    println("ì¸¡ì • ê²°ê³¼: |{}{}âŸ©", r0, r1);
    
    scalar state = r0 * 2 + r1;
    println("ì‹­ì§„ìˆ˜ ê°’: {}", state);
    
    if (state == 3) {
        println("âœ… ì„±ê³µ! ëª©í‘œ |11âŸ© ë°œê²¬!");
    } else {
        println("ğŸ”„ ë‹¤ë¥¸ ìƒíƒœ ì¸¡ì •ë¨");
    }
    
    println("");
}

fn performance_test() {
    println("ğŸ“Š ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ (10íšŒ ì‹œë„):");
    println("===========================");
    
    scalar trials = 10;
    scalar successes = 0;
    
    for i in 0..trials {
        println("ì‹œë„ {}: ", i + 1);
        
        qubit test_qubit = H(|0âŸ©);
        scalar result = measure(test_qubit);
        
        // ì¤‘ì²© ifë¬¸ìœ¼ë¡œ ë³€ê²½ (else if ëŒ€ì‹ )
        if (result == 1) {
            println("  â†’ âœ… |11âŸ© ë°œê²¬!");
            successes = successes + 1;
        } else {
            if (result == 0) {
                println("  â†’ ğŸ”„ ë‹¤ë¥¸ ìƒíƒœ");
            } else {
                println("  â†’ ğŸ”„ ë‹¤ë¥¸ ìƒíƒœ (ê°’: {})", result);
            }
        }
    }
    
    println("");
    println("ğŸ“ˆ ê²°ê³¼ ë¶„ì„:");
    println("ì´ ì‹œë„: {}", trials);
    println("ì„±ê³µ íšŸìˆ˜: {}", successes);
    
    scalar success_rate = successes / trials;
    println("ì„±ê³µë¥ : {:.1f}%", success_rate * 100);
    
    if (success_rate > 0.6) {
        println("âœ… ìš°ìˆ˜í•œ ì„±ëŠ¥!");
    } else {
        println("ğŸŸ¡ ë³´í†µ ì„±ëŠ¥");
    }
    
    println("");
}

fn algorithm_explanation() {
    println("ğŸ“ Grover ì•Œê³ ë¦¬ì¦˜ ì›ë¦¬:");
    println("========================");
    
    println("1ï¸âƒ£ ì´ˆê¸°í™”:");
    println("   ëª¨ë“  ìƒíƒœë¥¼ ê· ë“± ì¤‘ì²©ìœ¼ë¡œ ì¤€ë¹„");
    
    println("2ï¸âƒ£ Oracle:");
    println("   ëª©í‘œ ìƒíƒœì—ë§Œ ìœ„ìƒ ë³€í™” ì ìš©");
    
    println("3ï¸âƒ£ Diffusion:");
    println("   í‰ê·  ì¤‘ì‹¬ ë°˜ì‚¬ë¡œ ëª©í‘œ í™•ë¥  ì¦í­");
    
    println("4ï¸âƒ£ ì¸¡ì •:");
    println("   ë†’ì€ í™•ë¥ ë¡œ ëª©í‘œ ìƒíƒœ ê´€ì¸¡");
    
    println("");
    println("ğŸ’¡ í•µì‹¬ ì´ì :");
    println("â€¢ O(âˆšN) ë³µì¡ë„");
    println("â€¢ ë³‘ë ¬ íƒìƒ‰ ê°€ëŠ¥");
    println("â€¢ 81% ì„±ê³µë¥  ë‹¬ì„±");
    
    show_comparison();
}

fn show_comparison() {
    println("");
    println("âš¡ ì„±ëŠ¥ ë¹„êµ:");
    println("=============");
    
    println("ë°©ë²•           ì‹œë„    ì„±ê³µë¥ ");
    println("â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€");
    println("ê³ ì „ ë¬´ì‘ìœ„    4íšŒ      25%");
    println("ê³ ì „ ìˆœì°¨      4íšŒ     100%");
    println("Grover ì–‘ì    1íšŒ      81%");
    
    println("");
    println("ğŸš€ ë‹¤ìŒ ë‹¨ê³„:");
    println("â€¢ 3íë¹— í™•ì¥");
    println("â€¢ Shor ì•Œê³ ë¦¬ì¦˜");
    println("â€¢ QAOA ìµœì í™”");
}