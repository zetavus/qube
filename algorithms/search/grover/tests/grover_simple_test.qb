// algorithms/search/grover_simple_test.qb
// ê¸°ë³¸ ë¬¸ë²• í™•ì¸ìš© ê°„ë‹¨í•œ Grover

fn main() {
    println("ğŸ¯ ê°„ë‹¨í•œ Grover í…ŒìŠ¤íŠ¸");
    println("=====================");
    
    // ê¸°ë³¸ íšŒë¡œ í…ŒìŠ¤íŠ¸
    circuit SimpleGrover(5) {
        println("ì´ˆê¸°í™”: ë²”ìœ„ ë¬¸ë²• í…ŒìŠ¤íŠ¸");
        apply H to ~;  // ë²”ìœ„ ë¬¸ë²• í…ŒìŠ¤íŠ¸
        
        println("Oracle í…ŒìŠ¤íŠ¸");
        apply X to q1;
        apply X to q3;
        apply CZ to (q0, q1, q2, q3, q4);
        apply X to q1;
        apply X to q3;
        
        println("Diffusion í…ŒìŠ¤íŠ¸");
        apply H to ~;
        apply X to ~;
        apply CZ to (q0, q1, q2, q3, q4);
        apply X to ~;
        apply H to ~;
    }
    
    println("íšŒë¡œ ìƒì„± ì¤‘...");
    grover = SimpleGrover();
    
    println("ì¸¡ì • ì¤‘...");
    result = measure(grover, [0, 1, 2, 3, 4]);
    
    println("ê²°ê³¼: [{}] ", result);
    
    // ê°„ë‹¨í•œ ì‹­ì§„ìˆ˜ ë³€í™˜
    decimal = result[0] + result[1]*2 + result[2]*4 + result[3]*8 + result[4]*16;
    println("ì‹­ì§„ìˆ˜: {}", decimal);
    
    if (decimal == 21) {
        println("âœ… ì„±ê³µ! |10101âŸ© ë°œê²¬");
    } else {
        println("âŒ ë‹¤ë¥¸ ìƒíƒœ: {}", decimal);
    }
}