// pipe_test.qyt - íŒŒì´í”„ ì—°ì‚°ì í…ŒìŠ¤íŠ¸

// í…ŒìŠ¤íŠ¸ìš© í•¨ìˆ˜ë“¤
fn double(x) {
    return x * 2;
}

fn add_ten(x) {
    return x + 10;
}

fn square(x) {
    return x * x;
}

fn to_string(x) {
    return "Result: " + x;
}

fn main() {
    println("ğŸš€ QyTum íŒŒì´í”„ ì—°ì‚°ì í…ŒìŠ¤íŠ¸!");
    println("=====================================");
    
    // 1. ê¸°ë³¸ íŒŒì´í”„ í…ŒìŠ¤íŠ¸
    println("\n1. ê¸°ë³¸ íŒŒì´í”„ í…ŒìŠ¤íŠ¸:");
    scalar result1 = 5 |> double;
    println("5 |> double =", result1);
    
    // 2. íŒŒì´í”„ ì²´ì¸ í…ŒìŠ¤íŠ¸
    println("\n2. íŒŒì´í”„ ì²´ì¸ í…ŒìŠ¤íŠ¸:");
    scalar result2 = 5 |> double |> add_ten;
    println("5 |> double |> add_ten =", result2);
    
    // 3. ë” ê¸´ íŒŒì´í”„ ì²´ì¸
    println("\n3. ê¸´ íŒŒì´í”„ ì²´ì¸:");
    scalar result3 = 3 |> double |> add_ten |> square;
    println("3 |> double |> add_ten |> square =", result3);
    
    // 4. í‘œí˜„ì‹ê³¼ íŒŒì´í”„
    println("\n4. í‘œí˜„ì‹ê³¼ íŒŒì´í”„:");
    scalar result4 = (3 + 2) |> double |> add_ten;
    println("(3 + 2) |> double |> add_ten =", result4);
    
    // 5. ë³€ìˆ˜ì™€ íŒŒì´í”„
    println("\n5. ë³€ìˆ˜ì™€ íŒŒì´í”„:");
    scalar x = 7;
    scalar result5 = x |> double |> add_ten;
    println("x |> double |> add_ten =", result5);
    
    // 6. ì—°ì‚°ì ìš°ì„ ìˆœìœ„ í…ŒìŠ¤íŠ¸
    println("\n6. ì—°ì‚°ì ìš°ì„ ìˆœìœ„ í…ŒìŠ¤íŠ¸:");
    scalar result6 = 2 * 3 |> add_ten;  // (2 * 3) |> add_ten = 16
    println("2 * 3 |> add_ten =", result6);
    
    scalar result7 = 5 + 5 |> double;   // (5 + 5) |> double = 20
    println("5 + 5 |> double =", result7);
    
    println("\nâœ… íŒŒì´í”„ ì—°ì‚°ì í…ŒìŠ¤íŠ¸ ì™„ë£Œ!");
}